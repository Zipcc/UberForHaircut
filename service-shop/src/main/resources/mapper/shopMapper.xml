<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bristol.project.dao.ShopDao">

    <insert id="create" parameterType="Shop" useGeneratedKeys="true" keyProperty="id">
        insert into shop(username, shopName, locationDescription, serviceForGender, phoneNumber)
        values(#{username},#{shopName},#{locationDescription},#{serviceForGender},#{phoneNumber});
    </insert>

    <delete id="deleteShopByUsername">
        delete from shop
        where username=#{username} and length(username)=length(#{username});
    </delete>

    <update id="updateShopByUsername">
        update shop
        set shopName=#{shopName},locationDescription=#{locationDescription},serviceForGender=#{serviceForGender}
        where username=#{username};
    </update>

    <select id="getShopByUsername" resultType="Shop">
        select * from shop
        where username=#{username} and length(username)=length(#{username});
    </select>

    <select id="getAllShop" resultType="Shop">
        select * from shop;
    </select>

</mapper>